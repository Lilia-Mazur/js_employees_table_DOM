{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","table","tBody","clickCount","sortListASC","n","rows","sort","start","end","a","cells","innerText","replace","b","isNaN","localeCompare","sortListDESC","pushMassege","title","description","type","divMessage","createElement","titleMessage","textMessage","classList","dataset","qa","add","textContent","append","setTimeout","remove","addEventListener","e","item","newList","target","closest","number","cellIndex","row","activeRow","insertAdjacentHTML","form","preventDefault","formData","FormData","tr","textArray","get","length","i","td","num","parseInt","toLocaleString","querySelectorAll","value","text","input","name","focus","inputText","ev","code"],"mappings":";AAAA,aA+KA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EA7KA,IAAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAQH,SAASC,cAAc,SACjCG,EAAa,EAEXC,EAAc,SAACC,GACZ,OAAA,EAAIH,EAAMI,MAAMC,KAAK,SAACC,EAAOC,GAC5BC,IAAAA,EAAIF,EAAMG,MAAMN,GAAGO,UAAUC,QAAQ,QAAS,IAC9CC,EAAIL,EAAIE,MAAMN,GAAGO,UAAUC,QAAQ,QAAS,IAE9CE,OAAAA,MAAML,GACDA,EAAEM,cAAcF,GAEhBJ,EAAII,KAKXG,EAAe,SAACZ,GACb,OAAA,EAAIH,EAAMI,MAAMC,KAAK,SAACC,EAAOC,GAC5BC,IAAAA,EAAIF,EAAMG,MAAMN,GAAGO,UAAUC,QAAQ,QAAS,IAC9CC,EAAIL,EAAIE,MAAMN,GAAGO,UAAUC,QAAQ,QAAS,IAE9CE,OAAAA,MAAML,GACDI,EAAEE,cAAcN,GAEhBI,EAAIJ,KAKXQ,EAAc,SAACC,EAAOC,EAAaC,GACjCC,IAAAA,EAAavB,SAASwB,cAAc,OACpCC,EAAezB,SAASwB,cAAc,MACtCE,EAAc1B,SAASwB,cAAc,KAE3CD,EAAWI,UAAY,eACvBJ,EAAWK,QAAQC,GAAK,eACxBN,EAAWI,UAAUG,IAAIR,GACzBG,EAAaE,UAAY,QACzBF,EAAaM,YAAcX,EAC3BM,EAAYK,YAAcV,EAE1BE,EAAWS,OAAOP,GAClBF,EAAWS,OAAON,GAClB3B,EAAKiC,OAAOT,GAEZU,WAAW,WACTV,EAAWW,UACV,MAGLhC,EAAMiC,iBAAiB,QAAS,SAAAC,GACxBC,IACFC,EADED,EAAOD,EAAEG,OAAOC,QAAQ,MAG1B,GAACH,EAAD,CAIEI,IAAAA,EAASJ,EAAKK,UAED,IAAftC,GACFkC,EAAUjC,EAAYoC,GACtBrC,EAAa,IAEbkC,EAAUpB,EAAauB,GACvBrC,EAAa,GAEfD,EAAM6B,OAAN7B,MAAAA,EAAgBmC,EAAAA,OAGlBnC,EAAMgC,iBAAiB,QAAS,SAAAC,GACxBO,IAAAA,EAAMP,EAAEG,OAAOC,QAAQ,MACvBI,EAAY5C,SAASC,cAAc,WAEpC2C,GAGHA,EAAUjB,UAAUO,OAAO,UAC3BS,EAAIhB,UAAUG,IAAI,WAHlBa,EAAIhB,UAAUG,IAAI,YAOtB/B,EAAK8C,mBAAmB,YAAxB,04BA4BA,IAAMC,EAAO9C,SAASC,cAAc,QAEpC6C,EAAKX,iBAAiB,SAAU,SAAAC,GAC9BA,EAAEW,iBAEIC,IAAAA,EAAW,IAAIC,SAASH,GACxBI,EAAKlD,SAASwB,cAAc,MAE5B2B,EAAY,CAChBH,EAASI,IAAI,QACbJ,EAASI,IAAI,YACbJ,EAASI,IAAI,UACbJ,EAASI,IAAI,OACbJ,EAASI,IAAI,WAGXJ,GAAAA,EAASI,IAAI,QAAQC,OAAS,EAChClC,EAAY,kBACV,uCAAwC,cAKxC,GAAC6B,EAASI,IAAI,SAAYJ,EAASI,IAAI,aACrCJ,EAASI,IAAI,QAAWJ,EAASI,IAAI,UAMvCJ,GAAAA,EAASI,IAAI,OAAS,IAAMJ,EAASI,IAAI,OAAS,GACpDjC,EAAY,gBACV,6CAA+C,aAF/C6B,CAOC,IAAA,IAAIM,EAAI,EAAGA,EAAIH,EAAUE,OAAQC,IAAK,CACnCC,IAAAA,EAAKvD,SAASwB,cAAc,MAE9B8B,GAAAA,IAAMH,EAAUE,OAAS,EAAG,CACxBG,IAAAA,EAAMC,SAASN,EAAUG,IAE/BC,EAAGxB,YAAkByB,IAAAA,OAAAA,EAAIE,eAAe,eAExCH,EAAGxB,YAAcoB,EAAUG,GAG7BJ,EAAGlB,OAAOuB,GAGZpD,EAAM6B,OAAOkB,GAEb/B,EAAY,iBACV,oCAAqC,WAElC,IAAA,IAAImC,EAAI,EAAGA,EAAI,EAAIR,EAAKa,iBAAiB,UAAUN,OAAQC,IAC9DR,EAAKa,iBAAiB,SAASL,GAAGM,MAAQ,UAhC1CzC,EAAY,QAAS,2BAA4B,WAoCrDhB,EAAMgC,iBAAiB,WAAY,SAAAC,GAC3BG,IAAAA,EAASH,EAAEG,OACXsB,EAAOtB,EAAOR,YACd+B,EAAQ9D,SAASwB,cAAc,SAErCsC,EAAMnC,UAAN,aACAmC,EAAMC,KAAO,OACbD,EAAMxC,KAAO,OACbiB,EAAOR,YAAc,KAErBQ,EAAOP,OAAO8B,GACdA,EAAME,QAEAC,IAAAA,EAAYjE,SAASC,cAAc,eAEzC6D,EAAM3B,iBAAiB,UAAW,SAAA+B,GAChB,UAAZA,EAAGC,OAC0B,IAA3BF,EAAUL,MAAMP,SAClBd,EAAOR,YAAc8B,GAGnBtB,EAAOG,UAAY,IACjBuB,EAAUL,MAAMP,OAAS,GAC3BlC,EAAY,wBACV,uCAAwC,SAC1CoB,EAAOR,YAAc8B,GAErBtB,EAAOR,YAAckC,EAAUL,OAIV,IAArBrB,EAAOG,YACLe,SAASQ,EAAUL,OACjBH,SAASQ,EAAUL,OAAS,IAC7BH,SAASQ,EAAUL,MAAQ,KAC5BzC,EAAY,gBACV,6CAA+C,SACjDoB,EAAOR,YAAc8B,GAErBtB,EAAOR,YAAckC,EAAUL,OAGjCzC,EAAY,eACV,4BAA6B,SAC/BoB,EAAOR,YAAc8B,IAIA,IAArBtB,EAAOG,YACLe,SAASQ,EAAUL,OACrBrB,EAAOR,YACJ0B,gBAAAA,OAAAA,SAASQ,EAAUL,OAAOF,eAAe,WAE5CvC,EAAY,eAAgB,oBAAqB,SACjDoB,EAAOR,YAAc8B,OAM7BC,EAAM3B,iBAAiB,OAAQ,SAAA+B,GACE,IAA3BD,EAAUL,MAAMP,SAClBd,EAAOR,YAAc8B,GAGnBtB,EAAOG,UAAY,IACjBuB,EAAUL,MAAMP,OAAS,GAC3BlC,EAAY,wBACV,uCAAwC,SAC1CoB,EAAOR,YAAc8B,GAErBtB,EAAOR,YAAckC,EAAUL,OAIV,IAArBrB,EAAOG,YACLe,SAASQ,EAAUL,OACjBH,SAASQ,EAAUL,OAAS,IAC7BH,SAASQ,EAAUL,MAAQ,KAC5BzC,EAAY,gBACV,6CAA+C,SACjDoB,EAAOR,YAAc8B,GAErBtB,EAAOR,YAAckC,EAAUL,OAGjCzC,EAAY,eACV,4BAA6B,SAC/BoB,EAAOR,YAAc8B,IAIA,IAArBtB,EAAOG,YACLe,SAASQ,EAAUL,OACrBrB,EAAOR,YACJ0B,cAAAA,OAAAA,SAASQ,EAAUL,OAAOF,eAAe,WAE5CvC,EAAY,eAAgB,oBAAqB,SACjDoB,EAAOR,YAAc8B","file":"main.f52e093b.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = document.querySelector('table');\nconst tBody = document.querySelector('tbody');\nlet clickCount = 0;\n\nconst sortListASC = (n) => {\n  return [...tBody.rows].sort((start, end) => {\n    const a = start.cells[n].innerText.replace(/[$,]/g, '');\n    const b = end.cells[n].innerText.replace(/[$,]/g, '');\n\n    if (isNaN(a)) {\n      return a.localeCompare(b);\n    } else {\n      return a - b;\n    }\n  });\n};\n\nconst sortListDESC = (n) => {\n  return [...tBody.rows].sort((start, end) => {\n    const a = start.cells[n].innerText.replace(/[$,]/g, '');\n    const b = end.cells[n].innerText.replace(/[$,]/g, '');\n\n    if (isNaN(a)) {\n      return b.localeCompare(a);\n    } else {\n      return b - a;\n    }\n  });\n};\n\nconst pushMassege = (title, description, type) => {\n  const divMessage = document.createElement('div');\n  const titleMessage = document.createElement('h2');\n  const textMessage = document.createElement('p');\n\n  divMessage.classList = 'notification';\n  divMessage.dataset.qa = 'notification';\n  divMessage.classList.add(type);\n  titleMessage.classList = 'title';\n  titleMessage.textContent = title;\n  textMessage.textContent = description;\n\n  divMessage.append(titleMessage);\n  divMessage.append(textMessage);\n  body.append(divMessage);\n\n  setTimeout(() => {\n    divMessage.remove();\n  }, 2000);\n};\n\ntable.addEventListener('click', e => {\n  const item = e.target.closest('th');\n  let newList;\n\n  if (!item) {\n    return;\n  }\n\n  const number = item.cellIndex;\n\n  if (clickCount === 0) {\n    newList = sortListASC(number);\n    clickCount = 1;\n  } else {\n    newList = sortListDESC(number);\n    clickCount = 0;\n  }\n  tBody.append(...newList);\n});\n\ntBody.addEventListener('click', e => {\n  const row = e.target.closest('tr');\n  const activeRow = document.querySelector('.active');\n\n  if (!activeRow) {\n    row.classList.add('active');\n  } else {\n    activeRow.classList.remove('active');\n    row.classList.add('active');\n  }\n});\n\nbody.insertAdjacentHTML('beforeend',\n  `<form class=\"new-employee-form\"> \n      <label>Name:\n        <input name=\"name\" type=\"text\" data-qa=\"name\">\n      </label>\n      <label>Position:\n        <input name=\"position\" type=\"text\" data-qa=\"position\">\n      </label>\n      <label> Office:\n        <select name=\"office\" data-qa=\"office\" >\n         <option value=\"Tokyo\">Tokyo</option>\n         <option value=\"Singapore\">Singapore</option>\n         <option value=\"London\">London</option>\n         <option value=\"New York\">New York</option>\n         <option value=\"Edinburgh\">Edinburgh</option>\n         <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n      <label>Age:\n        <input name=\"age\" type=\"number\" data-qa=\"age\">\n      </label>\n      <label>Salary:\n        <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n      </label>\n      <button>Save to table</button>\n     </form>`\n);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const tr = document.createElement('tr');\n\n  const textArray = [\n    formData.get('name'),\n    formData.get('position'),\n    formData.get('office'),\n    formData.get('age'),\n    formData.get('salary'),\n  ];\n\n  if (formData.get('name').length < 4) {\n    pushMassege('Incorrect Name!',\n      'Name should have at least 4 letters.', 'error');\n\n    return;\n  }\n\n  if (!formData.get('name') || !formData.get('position')\n    || !formData.get('age') || !formData.get('salary')) {\n    pushMassege('Error', 'Not all field have data.', 'error');\n\n    return;\n  }\n\n  if (formData.get('age') < 18 || formData.get('age') > 90) {\n    pushMassege('Incorrect Age',\n      'Age can\\'t be less than 18 or more than 90.', 'error');\n\n    return;\n  }\n\n  for (let i = 0; i < textArray.length; i++) {\n    const td = document.createElement('td');\n\n    if (i === textArray.length - 1) {\n      const num = parseInt(textArray[i]);\n\n      td.textContent = `$${num.toLocaleString('en-US')}`;\n    } else {\n      td.textContent = textArray[i];\n    }\n\n    tr.append(td);\n  }\n\n  tBody.append(tr);\n\n  pushMassege('Added new row.',\n    'New data were added to the table.', 'success');\n\n  for (let i = 0; i < [...form.querySelectorAll('input')].length; i++) {\n    form.querySelectorAll('input')[i].value = null;\n  }\n});\n\ntBody.addEventListener('dblclick', e => {\n  const target = e.target;\n  const text = target.textContent;\n  const input = document.createElement('input');\n\n  input.classList = `cell-input`;\n  input.name = 'text';\n  input.type = 'text';\n  target.textContent = null;\n\n  target.append(input);\n  input.focus();\n\n  const inputText = document.querySelector('.cell-input');\n\n  input.addEventListener('keydown', ev => {\n    if (ev.code === 'Enter') {\n      if (inputText.value.length === 0) {\n        target.textContent = text;\n      }\n\n      if (target.cellIndex < 3) {\n        if (inputText.value.length < 4) {\n          pushMassege('Incorrect Input Data.',\n            'Text should have at least 4 letters.', 'error');\n          target.textContent = text;\n        } else {\n          target.textContent = inputText.value;\n        }\n      }\n\n      if (target.cellIndex === 3) {\n        if (parseInt(inputText.value)) {\n          if (parseInt(inputText.value) < 18\n          || parseInt(inputText.value > 90)) {\n            pushMassege('Incorrect Age',\n              'Age can\\'t be less than 18 or more than 90.', 'error');\n            target.textContent = text;\n          } else {\n            target.textContent = inputText.value;\n          }\n        } else {\n          pushMassege('Not a number',\n            'Add number from 18 to 90.', 'error');\n          target.textContent = text;\n        }\n      }\n\n      if (target.cellIndex === 4) {\n        if (parseInt(inputText.value)) {\n          target.textContent = `\n          $${parseInt(inputText.value).toLocaleString('en-US')}`;\n        } else {\n          pushMassege('Not a number', 'Please add number', 'error');\n          target.textContent = text;\n        }\n      }\n    }\n  });\n\n  input.addEventListener('blur', ev => {\n    if (inputText.value.length === 0) {\n      target.textContent = text;\n    }\n\n    if (target.cellIndex < 3) {\n      if (inputText.value.length < 4) {\n        pushMassege('Incorrect Input Data.',\n          'Text should have at least 4 letters.', 'error');\n        target.textContent = text;\n      } else {\n        target.textContent = inputText.value;\n      }\n    }\n\n    if (target.cellIndex === 3) {\n      if (parseInt(inputText.value)) {\n        if (parseInt(inputText.value) < 18\n        || parseInt(inputText.value > 90)) {\n          pushMassege('Incorrect Age',\n            'Age can\\'t be less than 18 or more than 90.', 'error');\n          target.textContent = text;\n        } else {\n          target.textContent = inputText.value;\n        }\n      } else {\n        pushMassege('Not a number',\n          'Add number from 18 to 90.', 'error');\n        target.textContent = text;\n      }\n    }\n\n    if (target.cellIndex === 4) {\n      if (parseInt(inputText.value)) {\n        target.textContent = `\n        $${parseInt(inputText.value).toLocaleString('en-US')}`;\n      } else {\n        pushMassege('Not a number', 'Please add number', 'error');\n        target.textContent = text;\n      }\n    }\n  });\n});\n"]}